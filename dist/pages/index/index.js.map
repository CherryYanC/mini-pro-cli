{"version":3,"sources":["pages/index/index.ts"],"names":["app","getApp","Page","data","motto","userInfo","hasUserInfo","canIUse","wx","canIUseGetUserProfile","canIUseOpenData","bindViewTap","navigateTo","url","onLoad","console","log","getUserProfile","this","setData","_this","desc","success","res","getUserInfo","e","detail"],"mappings":"aAEA,IAAMA,IAAMC,SAEZC,KAAK,CACHC,KAAM,CACJC,MAAO,cACPC,SAAU,GACVC,aAAa,EACbC,QAASC,GAAGD,QAAQ,gCACpBE,uBAAuB,EACvBC,gBAAiBF,GAAGD,QAAQ,iCAAmCC,GAAGD,QAAQ,gCAG5EI,YAAW,WACTH,GAAGI,WAAW,CACZC,IAAK,kBAGTC,OAAA,WACEC,QAAQC,IAAI,qBACRR,GAAGS,eAAe,KACpBC,KAAKC,QAAQ,CACXV,uBAAuB,KAI7BQ,eAAc,WAAd,IAAAG,EAAAF,KAEEV,GAAGS,eAAe,CAChBI,KAAM,SACNC,QAAS,SAACC,GACRR,QAAQC,IAAIO,GACZH,EAAKD,QAAQ,CACXd,SAAUkB,EAAIlB,SACdC,aAAa,QAKrBkB,YAAA,SAAYC,GAEVV,QAAQC,IAAIS,GACZP,KAAKC,QAAQ,CACXd,SAAUoB,EAAEC,OAAOrB,SACnBC,aAAa","file":"index.js","sourcesContent":["// index.ts\n// 获取应用实例\nconst app = getApp()\n\nPage({\n  data: {\n    motto: 'Hello World',\n    userInfo: {},\n    hasUserInfo: false,\n    canIUse: wx.canIUse('button.open-type.getUserInfo'),\n    canIUseGetUserProfile: false,\n    canIUseOpenData: wx.canIUse('open-data.type.userAvatarUrl') && wx.canIUse('open-data.type.userNickName') // 如需尝试获取用户信息可改为false\n  },\n  // 事件处理函数\n  bindViewTap() {\n    wx.navigateTo({\n      url: '../logs/logs',\n    })\n  },\n  onLoad() {\n    console.log('OMG, that is ok ?')\n    if (wx.getUserProfile('' as any)) {\n      this.setData({\n        canIUseGetUserProfile: true\n      })\n    }\n  },\n  getUserProfile() {\n    // 推荐使用wx.getUserProfile获取用户信息，开发者每次通过该接口获取用户个人信息均需用户确认，开发者妥善保管用户快速填写的头像昵称，避免重复弹窗\n    wx.getUserProfile({\n      desc: '展示用户信息', // 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写\n      success: (res) => {\n        console.log(res)\n        this.setData({\n          userInfo: res.userInfo,\n          hasUserInfo: true\n        })\n      }\n    })\n  },\n  getUserInfo(e: any) {\n    // 不推荐使用getUserInfo获取用户信息，预计自2021年4月13日起，getUserInfo将不再弹出弹窗，并直接返回匿名的用户个人信息\n    console.log(e)\n    this.setData({\n      userInfo: e.detail.userInfo,\n      hasUserInfo: true\n    })\n  }\n})\n"]}